<!DOCTYPE html>
<html>
<head>
<style>

body {
  font-family: system-ui;
}

</style>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover,shrink-to-fit=no">
</head>
<body>
<div class="log">Allow access to try orientation.</div>
<script>
const logEl = document.querySelector('.log');
logEl.onClick = async () => {
      let permissiona;
      try {
        permissiona = await DeviceMotionEvent.requestPermission();
      } catch (err) {
        logEl.textContent = 'No orientation access';
      }
      if (permissiona !== 'granted') {
        logEl.textContent = 'No orientation access';
      }

    window.addEventListener('devicemotion', onDeviceOrientation);
    }
function onDeviceOrientation(e) {
  logEl.textContent = e.alpha + 'deg';
}  
</script>
</body>
</html>